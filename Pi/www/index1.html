<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
  <title></title>
</head>
<body onload="onRefresh()" style="color: rgb(0, 0, 0); background-color: rgb(153, 255, 153);">
<img src="images/DFRobot.jpg">
<form action="/cgi-bin/dfrobot.sh" method="POST">
    <button onclick="setSpeedDrive(this)" style="width: 100px; height: 100px; position: absolute; left: 150px; top: 30px; font-size: 32px; font-weight: bold; background-color: rgb(0, 255, 191);" name="cmd" value="forward">&#8593;</button>
    <button onclick="setSpeedTurn(this)" style="width: 100px; height: 100px; position: absolute; left: 50px; top: 130px; font-size: 32px; font-weight: bold; background-color: rgb(0, 255, 191);" name="cmd" value="left">&#8592;</button>
    <button onclick="setSpeedTurn(this)" style="width: 100px; height: 100px; position: absolute; left: 250px; top: 130px; font-size: 32px; font-weight: bold; background-color: rgb(0, 255, 191);" name="cmd" value="right">&#8594;</button>
    <button onclick="setSpeedDrive(this)" style="width: 100px; height: 100px; position: absolute; left: 150px; top: 230px; font-size: 32px; font-weight: bold; background-color: rgb(0, 255, 191);" name="cmd" value="backward">&#8595;</button>
    <button style="width: 25px; height: 25px; position: absolute; left: 50px; top: 268px; background-color: rgb(255, 255, 0);" name="cmd" value="start-stream-hq"></button>
    <button style="width: 25px; height: 25px; position: absolute; left: 75px; top: 268px; background-color: rgb(255, 147, 0);" name="cmd" value="start-stream-lq"></button>
    <button style="width: 25px; height: 25px; position: absolute; left: 100px; top: 268px; background-color: rgb(0, 0, 0);" name="cmd" value="stop-stream"></button>
    <button style="width: 25px; height: 25px; position: absolute; left: 50px; top: 368px; background-color: rgb(255, 147, 0);" name="cmd" value="cam-move-rel.30"></button>
    <button style="width: 25px; height: 25px; position: absolute; left: 100px; top: 368px; background-color: rgb(255, 147, 0);" name="cmd" value="cam-move-rel.-30"></button>
    <button style="width: 25px; height: 25px; position: absolute; left: 188px; top: 368px; background-color: rgb(255, 147, 0);" name="cmd" value="sound"></button>
    <button style="width: 25px; height: 25px; position: absolute; left: 275px; top: 266px; background-color: rgb(255, 255, 0);" name="cmd" value="light-on"></button>
    <button style="width: 25px; height: 25px; position: absolute; left: 325px; top: 266px; background-color: rgb(0, 0, 0);" name="cmd" value="light-off"></button>
    <input id="speed" type=button onclick="toggleSpeed(this)" style="width: 100px; height: 100px; position: absolute; left: 150px; top: 130px; font-size: 24px; font-weight: bold; background-color: rgb(0, 128, 0);" name="cmd" value="slow"></input>
    <button style="width: 25px; height: 25px; position: absolute; left: 50px; top: 525px; background-color: rgb(255, 255, 0);" name="cmd" value="capture-start"></button>
    <button style="width: 25px; height: 25px; position: absolute; left: 100px; top: 525px; background-color: rgb(0, 0, 0);" name="cmd" value="capture-stop"></button>
    <button style="width: 25px; height: 25px; position: absolute; left: 275px; top: 525px; background-color: rgb(0, 0, 255);" name="cmd" value="home-start"></button>
    <button style="width: 25px; height: 25px; position: absolute; left: 325px; top: 525px; background-color: rgb(0, 0, 255);" name="cmd" value="home-stop"></button>
</form>
    
<div style="font-size: 24px; position: absolute; top: 235px; left: 50px;"><b>camera</b></div>
<div style="font-size: 24px; position: absolute; top: 298px; left: 55px;"><b>h</b></div>
<div style="font-size: 24px; position: absolute; top: 298px; left: 82px;"><b>l</b></div>
<div style="font-size: 24px; position: absolute; top: 298px; left: 100px;"><b>off</b></div>
<div style="font-size: 24px; position: absolute; top: 398px; left: 50px;"><b>up</b></div>
<div style="font-size: 24px; position: absolute; top: 398px; left: 90px;"><b>down</b></div>

<div style="font-size: 24px; position: absolute; top: 235px; left: 290px;"><b>light</b></div>
<div style="font-size: 24px; position: absolute; top: 298px; left: 275px;"><b>on</b></div>
<div style="font-size: 24px; position: absolute; top: 298px; left: 325px;"><b>off</b></div>

<div style="font-size: 24px; position: absolute; top: 398px; left: 168px;"><b>sound</b></div>

<div style="font-size: 24px; position: absolute; top: 490px; left: 30px;"><b>video capture</b></div>
<div style="font-size: 24px; position: absolute; top: 555px; left: 50px;"><b>on</b></div>
<div style="font-size: 24px; position: absolute; top: 555px; left: 100px;"><b>off</b></div>
<div style="font-size: 24px; position: absolute; top: 490px; left: 285px;"><b>home</b></div>
<div style="font-size: 24px; position: absolute; top: 555px; left: 275px;"><b>on</b></div>
<div style="font-size: 24px; position: absolute; top: 555px; left: 325px;"><b>off</b></div>

<form action="/cgi-bin/dfrobot.sh" method="POST">
  <div style="position: absolute; top: 445px; left: 50px;"><input name="cmd" size="20" style="font-size: 25px; color: rgb(136, 136, 136);" value="DFRobot command" onfocus="inputFocus(this)" onblur="inputBlur(this)" type=""></div>
</form>
    
<script language="javascript" type="text/javascript">
var speed = "fast";
var speedDrive = "72";
var speedTurn = "32";
function onRefresh() {
    // First make sure localStorage items are available.
    if (localStorage.getItem("speed") == null)
    {
        localStorage.setItem('speed', speed);
    }
    if (localStorage.getItem("speedDrive") == null)
    {
        localStorage.setItem('speedDrive', speedDrive);
    }
    if (localStorage.getItem("speedTurn") == null)
    {
        localStorage.setItem('speedTurn', speedTurn);
    }
    speed = localStorage.getItem("speed");
    elem=document.getElementById("speed");
    if(speed == "fast") {
        elem.style.backgroundColor="red";
        elem.value="fast";
    }
    else {
        elem.style.backgroundColor="green";
        elem.value="slow";
    }
}
function toggleSpeed(elem) {
    if(speed == "slow") {
        speed = "fast";
        speedDrive = "72"
        speedTurn = "32"
        elem.style.backgroundColor="red";
        elem.value="fast";
    }
    else {
        speed = "slow";
        speedDrive = "12"
        speedTurn = "7"
        elem.style.backgroundColor="green";
        elem.value="slow";
    }
    localStorage.setItem("speed", speed);
}
function setSpeedDrive(elem) {
    var str = elem.value;
    // Take first part of button value, before the dot.
    var valueArray = str.split(".");
    // Add the speed to the button value.
    elem.value = valueArray[0] + "." + speedDrive;
}
function setSpeedTurn(elem) {
    var str = elem.value;
    // Take first part of button value, before the dot.
    var valueArray = str.split(".");
    // Add the speed to the button value.
    elem.value = valueArray[0] + "." + speedTurn;
}
function inputFocus(i){
    if(i.value==i.defaultValue){ i.value=""; i.style.color="#000"; }
}
function inputBlur(i){
    if(i.value==""){ i.value=i.defaultValue; i.style.color="#888"; }
}
</script>
    
</body></html>